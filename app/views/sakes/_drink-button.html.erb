<% if sake.sealed? %>
  <%= link_to(tag.i(class: "bi-droplet-half me-1", style: "font-size: 0.95em;") + t(".open"),
              sake_path(sake, params: { sake: { bottle_level: "opened" } }),
              { method: :patch,
                data: { confirm: t(".confirm_open") },
                class: "badge rounded-pill bg-primary ms-2",
                "data-testid": "open-button-#{sake.id}", }) %>
  <%= link_to(tag.i(class: "bi-cup-fill me-1", style: "font-size: 1em;") + t(".impress"),
              edit_sake_path(sake, params: { sake: { bottle_level: "opened" } }),
              { class: "badge rounded-pill bg-secondary ms-2",
                "data-testid": "open-and-impress-button-#{sake.id}", }) %>
<% end %>
<% if sake.opened? && sake.unimpressed? %>
  <%= link_to(tag.i(class: "bi-cup-fill me-1", style: "font-size: 1em;") + t(".impress"),
              edit_sake_path(sake),
              { class: "badge rounded-pill bg-secondary ms-2",
                "data-testid": "impress-button-#{sake.id}", }) %>
<% end %>
<% if sake.opened? %>
  <%= link_to(tag.i(class: "bi-droplet me-1", style: "font-size: 0.95em;") + t(".empty"),
              sake_path(sake, params: { sake: { bottle_level: "empty" } }),
              { method: :patch,
                data: { confirm: t(".confirm_empty") },
                class: "badge rounded-pill bg-light text-dark ms-2",
                "data-testid": "empty-button-#{sake.id}", }) %>
<% end %>
