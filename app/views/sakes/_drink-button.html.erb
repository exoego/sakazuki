<% if sake.sealed? %>
  <%= link_to(tag.i(class: "bi-droplet-half", style: "font-size: 0.95em;") + t(".open"),
              sake_path(sake, params: { sake: { bottle_level: "opened" }, flash_message_type: "open" }),
              { method: :patch,
                data: { confirm: t(".confirm_open") },
                class: "drink-button bg-primary",
                "data-testid": "open-button-#{sake.id}", }) %>
<% end %>
<% if sake.unimpressed? %>
  <% p = sake.sealed? ? { sake: { bottle_level: "opened" } } : {} %>
  <% testid = sake.sealed? ? "open-and-impress-button-#{sake.id}" : "impress-button-#{sake.id}" %>
  <%= link_to(tag.i(class: "bi-cup-fill", style: "font-size: 1em;") + t(".impress"),
              edit_sake_path(sake, params: p),
              { class: "drink-button bg-secondary border border-primary text-dark",
                "data-testid": testid, }) %>
<% end %>
<% if sake.opened? %>
  <%= link_to(tag.i(class: "bi-droplet", style: "font-size: 0.95em;") + t(".empty"),
              sake_path(sake, params: { sake: { bottle_level: "empty" }, flash_message_type: "empty" }),
              { method: :patch,
                data: { confirm: t(".confirm_empty") },
                class: "drink-button bg-light border border-dark text-dark",
                "data-testid": "empty-button-#{sake.id}", }) %>
<% end %>
